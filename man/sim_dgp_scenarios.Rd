% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/data-sim.R
\name{sim_dgp_scenarios}
\alias{sim_dgp_scenarios}
\alias{sim_dgp_correlated}
\alias{sim_dgp_mediated}
\alias{sim_dgp_confounded}
\alias{sim_dgp_interactions}
\alias{sim_dgp_independent}
\title{Simulation DGPs for Feature Importance Method Comparison}
\usage{
sim_dgp_correlated(n = 500L)

sim_dgp_mediated(n = 500L)

sim_dgp_confounded(n = 500L)

sim_dgp_interactions(n = 500L)

sim_dgp_independent(n = 500L)
}
\arguments{
\item{n}{(\code{integer(1)}) Number of samples to generate.}
}
\value{
A regression task (\link[mlr3:TaskRegr]{mlr3::TaskRegr}) with \link[data.table:data.table]{data.table} backend.
}
\description{
These data generating processes (DGPs) are designed to illustrate specific
strengths and weaknesses of different feature importance methods like PFI, CFI, and RFI.
Each DGP focuses on one primary challenge to make the differences between methods clear.
}
\details{
\strong{Correlated Features DGP:}
This DGP creates highly correlated predictors where PFI will show artificially low
importance due to redundancy, while CFI will correctly identify each feature's
conditional contribution.
\itemize{
\item \code{x1}: Standard normal, direct effect on y
\item \code{x2}: Nearly perfect copy of x1 (x1 + small noise)
\item \code{x3}: Independent standard normal, direct effect on y
\item \code{x4}: Independent standard normal, no effect on y
}

Expected behavior:
\itemize{
\item \strong{PFI}: Will show low importance for x1 and x2 due to redundancy
\item \strong{CFI}: Will show high importance for both x1 and x2 when conditioned properly
\item \strong{Ground truth}: Both x1 and x2 have causal effects, x3 has effect, x4 has none
}

\strong{Mediated Effects DGP:}
This DGP demonstrates the difference between total and direct causal effects.
Some features affect the outcome only through mediators.
\itemize{
\item \code{exposure}: Has no direct effect on y, only through mediator
\item \code{mediator}: Mediates the effect of exposure on y
\item \code{direct}: Has both direct effect on y and effect on mediator
\item \code{noise}: No causal relationship to y
}

Causal structure: exposure → mediator → y ← direct → mediator

Expected behavior:
\itemize{
\item \strong{PFI}: Shows total effects (exposure appears important)
\item \strong{CFI}: Shows direct effects (exposure appears less important when conditioning on mediator)
\item \strong{RFI with mediator}: Should show direct effects similar to CFI
}

\strong{Confounding DGP:}
This DGP includes a confounder that affects both features and the outcome.
Demonstrates when conditioning can be helpful or harmful.
\itemize{
\item \code{confounder}: Latent variable affecting both predictors and outcome
\item \code{x1}: Affected by confounder, has direct effect on y
\item \code{x2}: Affected by confounder, has direct effect on y
\item \code{proxy}: Noisy measurement of confounder, no direct effect on y
\item \code{independent}: Independent of confounder, has direct effect on y
}

Expected behavior:
\itemize{
\item \strong{PFI}: May show confounded associations
\item \strong{CFI}: Should better isolate direct effects by conditioning on related variables
\item \strong{RFI conditioning on proxy}: Should help remove confounding bias
}

\strong{Interaction Effects DGP:}
This DGP focuses on interaction effects where the importance of features
depends on the values of other features.
\itemize{
\item \code{x1}, \code{x2}: Independent features with interaction effect
\item \code{x3}: Independent feature with main effect only
\item \code{noise1}, \code{noise2}: No causal effects
}

Expected behavior:
\itemize{
\item \strong{PFI}: May underestimate importance of interacting features when permuted independently
\item \strong{CFI}: Should better capture interaction effects through conditional sampling
\item \strong{Ground truth}: x1 and x2 are important mainly through their interaction
}

\strong{Independent Features DGP:}
This is a baseline scenario where all features are independent and their
effects are additive. All importance methods should give similar results.
\itemize{
\item \code{important1-3}: Independent features with different effect sizes
\item \code{unimportant1-2}: Independent noise features with no effect
}

Expected behavior:
\itemize{
\item \strong{All methods}: Should rank features consistently by their true effect sizes
\item \strong{Ground truth}: important1 > important2 > important3 > unimportant1,2 ≈ 0
}
}
\section{Functions}{
\itemize{
\item \code{sim_dgp_correlated()}: Correlated features demonstrating PFI's limitations

\item \code{sim_dgp_mediated()}: Mediated effects showing direct vs total importance

\item \code{sim_dgp_confounded()}: Confounding scenario for conditional sampling

\item \code{sim_dgp_interactions()}: Interaction effects between features

\item \code{sim_dgp_independent()}: Independent features baseline scenario

}}
\examples{
task = sim_dgp_correlated(200)
task$data()
task = sim_dgp_mediated(200)
task$data()
task = sim_dgp_confounded(200)
task$data()
task = sim_dgp_interactions(200)
task$data()
task = sim_dgp_independent(200)
task$data()
}
\references{
Ewald, Katharina F, Bothmann, Ludwig, Wright, N. M, Bischl, Bernd, Casalicchio, Giuseppe, König, Gunnar (2024).
\dQuote{A Guide to Feature Importance Methods for Scientific Inference.}
In Longo, Luca, Lapuschkin, Sebastian, Seifert, Christin (eds.), \emph{Explainable Artificial Intelligence}, 440--464.
ISBN 978-3-031-63797-1, \doi{10.1007/978-3-031-63797-1_22}.
}
