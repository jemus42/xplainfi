% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/utils-sage.R
\name{sage_aggregate_predictions}
\alias{sage_aggregate_predictions}
\title{Aggregate Predictions by Coalition and Test Instance}
\usage{
sage_aggregate_predictions(
  combined_data,
  predictions,
  task_type,
  class_names = NULL
)
}
\arguments{
\item{combined_data}{data.table with columns .coalition_id, .test_instance_id, and features}

\item{predictions}{For classification: matrix of probabilities. For regression: numeric vector.}

\item{task_type}{Character, either "classif" or "regr"}

\item{class_names}{Character vector of class names (required for classification, ignored for regression)}
}
\value{
data.table with columns:
\itemize{
\item .coalition_id: Coalition identifier
\item .test_instance_id: Test instance identifier
\item For classification: One column per class with averaged probabilities
\item For regression: avg_pred column with averaged predictions
}
}
\description{
Averages predictions across multiple samples (reference data or conditional samples)
for each unique combination of coalition and test instance.
}
\keyword{internal}
