[{"path":"https://jemus42.github.io/xplainfi/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2024 xplainfi authors Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":[]},{"path":"https://jemus42.github.io/xplainfi/articles/xplainfi.html","id":"simple-case-without-resampling","dir":"Articles","previous_headings":"PFI","what":"Simple case without resampling","title":"xplainfi","text":"Default behavior internally construct standard holdout resampling default ratio Calculating PFI: Q: $compute() run construction? call $new() $compute() ’s nothing needs happen technically, long relation param set directly. recompute needed, \"difference\" default: Recomputes param changes, stores new param Q: $compute() called default value \"relation\" (.e. \"difference\") used, doesn’t seem ideal. Maybe default param stored object rather feel like separate function. Retrieve aggregated scores manually:","code":"pfi = PFI$new(   task = task,   learner = learner,   measure = measure )  # Stores parameter set to calculate PFI in different ways pfi$param_set #> <ParamSet(2)> #>            id    class lower upper nlevels    default      value #>        <char>   <char> <num> <num>   <num>     <list>     <list> #> 1:   relation ParamFct    NA    NA       2 difference difference #> 2: iters_perm ParamInt     1   Inf     Inf          1          1  set.seed(123)  # Default behavior should be sane pfi$compute() #> Key: <feature> #>            feature   importance #>             <char>        <num> #> 1:     bare_nuclei 0.0254328898 #> 2:     bl_cromatin 0.0038974549 #> 3:      cell_shape 0.0142968299 #> 4:       cell_size 0.0278796794 #> 5:    cl_thickness 0.0112129792 #> 6:    epith_c_size 0.0076956133 #> 7:   marg_adhesion 0.0017461000 #> 8:         mitoses 0.0009674993 #> 9: normal_nucleoli 0.0036466532 pfi$compute(relation = \"difference\") #> Key: <feature> #>            feature   importance #>             <char>        <num> #> 1:     bare_nuclei 0.0254328898 #> 2:     bl_cromatin 0.0038974549 #> 3:      cell_shape 0.0142968299 #> 4:       cell_size 0.0278796794 #> 5:    cl_thickness 0.0112129792 #> 6:    epith_c_size 0.0076956133 #> 7:   marg_adhesion 0.0017461000 #> 8:         mitoses 0.0009674993 #> 9: normal_nucleoli 0.0036466532 pfi$compute(relation = \"ratio\") #> Key: <feature> #>            feature importance #>             <char>      <num> #> 1:     bare_nuclei   2.299456 #> 2:     bl_cromatin   1.185466 #> 3:      cell_shape   1.487071 #> 4:       cell_size   2.034809 #> 5:    cl_thickness   1.373494 #> 6:    epith_c_size   1.207935 #> 7:   marg_adhesion   1.151517 #> 8:         mitoses   1.054015 #> 9: normal_nucleoli   1.129846 pfi$param_set #> <ParamSet(2)> #>            id    class lower upper nlevels    default  value #>        <char>   <char> <num> <num>   <num>     <list> <list> #> 1:   relation ParamFct    NA    NA       2 difference  ratio #> 2: iters_perm ParamInt     1   Inf     Inf          1      1 pfi$compute() #> Key: <feature> #>            feature   importance #>             <char>        <num> #> 1:     bare_nuclei 0.0255151834 #> 2:     bl_cromatin 0.0050953447 #> 3:      cell_shape 0.0124821000 #> 4:       cell_size 0.0263417143 #> 5:    cl_thickness 0.0153136659 #> 6:    epith_c_size 0.0065399530 #> 7:   marg_adhesion 0.0029682727 #> 8:         mitoses 0.0009206505 #> 9: normal_nucleoli 0.0045549852 pfi$importance #> Key: <feature> #>            feature   importance #>             <char>        <num> #> 1:     bare_nuclei 0.0255151834 #> 2:     bl_cromatin 0.0050953447 #> 3:      cell_shape 0.0124821000 #> 4:       cell_size 0.0263417143 #> 5:    cl_thickness 0.0153136659 #> 6:    epith_c_size 0.0065399530 #> 7:   marg_adhesion 0.0029682727 #> 8:         mitoses 0.0009206505 #> 9: normal_nucleoli 0.0045549852"},{"path":"https://jemus42.github.io/xplainfi/articles/xplainfi.html","id":"with-resampling","dir":"Articles","previous_headings":"PFI","what":"With resampling","title":"xplainfi","text":"Different measure: Q: Maybe worth allowing change measure post-hoc?","code":"learner = lrn(\"classif.ranger\", predict_type = \"prob\") resampling = rsmp(\"cv\", folds = 3) measure = msr(\"classif.bbrier\")  pfi = PFI$new(   task = task,   learner = learner,   resampling = resampling,   measure = measure )  pfi$resampling #> <ResamplingCV>: Cross-Validation #> * Iterations: 3 #> * Instantiated: TRUE #> * Parameters: folds=3 pfi$resample_result #> NULL  pfi$compute(relation = \"difference\") #> Key: <feature> #>            feature   importance #>             <char>        <num> #> 1:     bare_nuclei 0.0272897859 #> 2:     bl_cromatin 0.0067380659 #> 3:      cell_shape 0.0156334085 #> 4:       cell_size 0.0236113883 #> 5:    cl_thickness 0.0143316156 #> 6:    epith_c_size 0.0025627705 #> 7:   marg_adhesion 0.0027549200 #> 8:         mitoses 0.0004746942 #> 9: normal_nucleoli 0.0076622376  pfi$resample_result #> <ResampleResult> with 3 resampling iterations #>        task_id     learner_id resampling_id iteration     prediction_test #>  breast_cancer classif.ranger            cv         1 <PredictionClassif> #>  breast_cancer classif.ranger            cv         2 <PredictionClassif> #>  breast_cancer classif.ranger            cv         3 <PredictionClassif> #>  warnings errors #>         0      0 #>         0      0 #>         0      0  pfi$importance #> Key: <feature> #>            feature   importance #>             <char>        <num> #> 1:     bare_nuclei 0.0272897859 #> 2:     bl_cromatin 0.0067380659 #> 3:      cell_shape 0.0156334085 #> 4:       cell_size 0.0236113883 #> 5:    cl_thickness 0.0143316156 #> 6:    epith_c_size 0.0025627705 #> 7:   marg_adhesion 0.0027549200 #> 8:         mitoses 0.0004746942 #> 9: normal_nucleoli 0.0076622376 pfi = PFI$new(   task = task,   learner = learner,   resampling = resampling,   measure = msr(\"classif.auc\") )  pfi$compute(relation = \"ratio\") #> Key: <feature> #>            feature importance #>             <char>      <num> #> 1:     bare_nuclei   1.019417 #> 2:     bl_cromatin   1.005251 #> 3:      cell_shape   1.004522 #> 4:       cell_size   1.006057 #> 5:    cl_thickness   1.005369 #> 6:    epith_c_size   1.001412 #> 7:   marg_adhesion   1.002061 #> 8:         mitoses   1.000170 #> 9: normal_nucleoli   1.003889 pfi$compute(relation = \"difference\") #> Key: <feature> #>            feature   importance #>             <char>        <num> #> 1:     bare_nuclei 1.978400e-02 #> 2:     bl_cromatin 1.733766e-03 #> 3:      cell_shape 5.030280e-03 #> 4:       cell_size 7.869486e-03 #> 5:    cl_thickness 6.160114e-03 #> 6:    epith_c_size 1.272520e-03 #> 7:   marg_adhesion 1.824848e-03 #> 8:         mitoses 2.986438e-05 #> 9: normal_nucleoli 1.931261e-03"},{"path":"https://jemus42.github.io/xplainfi/articles/xplainfi.html","id":"with-multiple-permutation-iterations","dir":"Articles","previous_headings":"PFI","what":"With multiple permutation iterations","title":"xplainfi","text":"","code":"pfi = PFI$new(   task = task,   learner = learner,   resampling = resampling,   measure = msr(\"classif.ce\"),   iters_perm = 5 # permute each feature 5 times in each resampling iteration )  pfi$compute(relation = \"ratio\") #> Key: <feature> #>            feature importance #>             <char>      <num> #> 1:     bare_nuclei  1.7802790 #> 2:     bl_cromatin  0.9582492 #> 3:      cell_shape  1.1160173 #> 4:       cell_size  1.2696489 #> 5:    cl_thickness  1.0663781 #> 6:    epith_c_size  0.9655604 #> 7:   marg_adhesion  1.0024050 #> 8:         mitoses  0.9851852 #> 9: normal_nucleoli  0.9968254"},{"path":"https://jemus42.github.io/xplainfi/articles/xplainfi.html","id":"loco","dir":"Articles","previous_headings":"","what":"LOCO","title":"xplainfi","text":"setup now using LOCO, differs internally needs refit model. Notably, Task object need modified, suffices adjust .$col_roles$feature property.","code":"learner = lrn(\"classif.ranger\", predict_type = \"prob\")  loco = LOCO$new(   task = task,   learner = learner,   resampling = resampling,   measure = msr(\"classif.bbrier\") )  loco$compute(relation = \"ratio\") #> Key: <feature> #>            feature importance #>             <char>      <num> #> 1:     bare_nuclei  1.0276717 #> 2:     bl_cromatin  0.9643640 #> 3:      cell_shape  0.9418919 #> 4:       cell_size  0.9622936 #> 5:    cl_thickness  1.0744790 #> 6:    epith_c_size  0.9762456 #> 7:   marg_adhesion  0.9940892 #> 8:         mitoses  0.9846383 #> 9: normal_nucleoli  0.9956689  loco$scores #> Key: <feature, iter_rsmp> #>             feature iter_rsmp classif.bbrier_orig classif.bbrier_loco #>              <char>     <int>               <num>               <num> #>  1:     bare_nuclei         1          0.03200358          0.02622812 #>  2:     bare_nuclei         2          0.02734384          0.03147671 #>  3:     bare_nuclei         3          0.02616236          0.02910128 #>  4:     bl_cromatin         1          0.03200358          0.02882791 #>  5:     bl_cromatin         2          0.02734384          0.02800971 #>  6:     bl_cromatin         3          0.02616236          0.02532436 #>  7:      cell_shape         1          0.03200358          0.03083506 #>  8:      cell_shape         2          0.02734384          0.02721052 #>  9:      cell_shape         3          0.02616236          0.02268444 #> 10:       cell_size         1          0.03200358          0.02838324 #> 11:       cell_size         2          0.02734384          0.02747339 #> 12:       cell_size         3          0.02616236          0.02603852 #> 13:    cl_thickness         1          0.03200358          0.03227366 #> 14:    cl_thickness         2          0.02734384          0.02949423 #> 15:    cl_thickness         3          0.02616236          0.02972975 #> 16:    epith_c_size         1          0.03200358          0.03107781 #> 17:    epith_c_size         2          0.02734384          0.02689070 #> 18:    epith_c_size         3          0.02616236          0.02548832 #> 19:   marg_adhesion         1          0.03200358          0.03066976 #> 20:   marg_adhesion         2          0.02734384          0.02829665 #> 21:   marg_adhesion         3          0.02616236          0.02587718 #> 22:         mitoses         1          0.03200358          0.03081796 #> 23:         mitoses         2          0.02734384          0.02799976 #> 24:         mitoses         3          0.02616236          0.02529833 #> 25: normal_nucleoli         1          0.03200358          0.03163508 #> 26: normal_nucleoli         2          0.02734384          0.02734376 #> 27: normal_nucleoli         3          0.02616236          0.02612376 #>             feature iter_rsmp classif.bbrier_orig classif.bbrier_loco #>     importance #>          <num> #>  1:  0.8195370 #>  2:  1.1511443 #>  3:  1.1123337 #>  4:  0.9007713 #>  5:  1.0243515 #>  6:  0.9679691 #>  7:  0.9634876 #>  8:  0.9951241 #>  9:  0.8670640 #> 10:  0.8868769 #> 11:  1.0047375 #> 12:  0.9952665 #> 13:  1.0084389 #> 14:  1.0786423 #> 15:  1.1363557 #> 16:  0.9710727 #> 17:  0.9834279 #> 18:  0.9742360 #> 19:  0.9583226 #> 20:  1.0348455 #> 21:  0.9890996 #> 22:  0.9629534 #> 23:  1.0239876 #> 24:  0.9669740 #> 25:  0.9884854 #> 26:  0.9999969 #> 27:  0.9985245 #>     importance"},{"path":"https://jemus42.github.io/xplainfi/articles/xplainfi.html","id":"aggregating-results","dir":"Articles","previous_headings":"","what":"Aggregating results","title":"xplainfi","text":"Importance scores (ratio)","code":"importance_combined = merge(   pfi$importance,   loco$importance,   by = \"feature\" )  data.table::setnames(   importance_combined,   old = c(\"importance.x\", \"importance.y\"),   new = c(\"pfi\", \"loco\") )  importance_combined |>   knitr::kable(digits = 4, caption = \"Importance scores (ratio)\") library(ggplot2)  importance_combined |>   data.table::melt(id.vars = \"feature\", value.name = \"score\", variable.name = \"method\") |>   ggplot(aes(x = score, y = feature, color = method, fill = method)) +   geom_col(position = \"dodge\", alpha = .5) +   scale_color_brewer(palette = \"Dark2\", aesthetics = c(\"color\", \"fill\")) +   labs(     title = \"Feature Importance Scores\",     subtitle = sprintf(\"For task %s and measure %s, using relativ scores\", task$id, measure$id),     x = \"Score\", y = \"Feature\", color = \"Method\", fill = \"Method\",     caption = sprintf(\"Using %i-fold %s\", resampling$iters, resampling$id)   ) +   theme_minimal() +   theme(     legend.position = \"bottom\",     plot.title.position = \"plot\"   )"},{"path":"https://jemus42.github.io/xplainfi/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Lukas Burk. Author, maintainer.","code":""},{"path":"https://jemus42.github.io/xplainfi/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Burk L (2024). xplainfi: Feature Importance Methods Model Interpretability. R package version 0.0.0.9000, https://github.com/jemus42/xplainfi, https://jemus42.github.io/xplainfi/.","code":"@Manual{,   title = {xplainfi: Feature Importance Methods for Model Interpretability},   author = {Lukas Burk},   year = {2024},   note = {R package version 0.0.0.9000,     https://github.com/jemus42/xplainfi},   url = {https://jemus42.github.io/xplainfi/}, }"},{"path":"https://jemus42.github.io/xplainfi/index.html","id":"xplainfi","dir":"","previous_headings":"","what":"Feature Importance Methods for Model Interpretability","title":"Feature Importance Methods for Model Interpretability","text":"goal xplainfi collect common feature importance methods unified extensible interface. now, built specifically around mlr3, available abstractions learners, tasks, measures, etc. greatly simplify implementation importance measures.","code":""},{"path":"https://jemus42.github.io/xplainfi/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Feature Importance Methods for Model Interpretability","text":"can install development version xplainfi like :","code":"# install.packages(pak) pak::pak(\"jemus42/xplainfi\")"},{"path":"https://jemus42.github.io/xplainfi/index.html","id":"example-pfi","dir":"","previous_headings":"","what":"Example: PFI","title":"Feature Importance Methods for Model Interpretability","text":"basic example calculate PFI given learner task, using repeated cross-validation resampling strategy computing PFI within resampling 5 times: Compute print PFI scores: Retrieve scores later pfi$importance. PFI computed based resampling multiple iterations, / multiple permutation iterations, individual scores can retrieved data.table: iter_rsmp corresponds resampling iteration, .e., 3 * 2 = 6 2 repeats 3-fold cross-validation, iter_perm corresponds permutation iteration, 5 case. pfi$importance contains means across iterations, pfi$scores allows manually aggregate way see fit. simplest case, run PFI single resampling iteration (holdout) single permutation iteration, pfi$importance contain values pfi$scores.","code":"library(xplainfi) library(mlr3) library(mlr3learners)  task = tsk(\"german_credit\") learner = lrn(\"classif.ranger\", num.trees = 100) measure = msr(\"classif.ce\")  pfi = PFI$new(   task = task,   learner = learner,   measure = measure,   resampling = rsmp(\"repeated_cv\", folds = 3, repeats = 2),   iters_perm = 5 ) pfi$compute() #> Key: <feature> #>                     feature    importance #>                      <char>         <num> #>  1:                     age  9.929091e-04 #>  2:                  amount  1.288294e-02 #>  3:          credit_history  1.218554e-02 #>  4:                duration  1.598605e-02 #>  5:     employment_duration  3.890717e-03 #>  6:          foreign_worker -1.202700e-03 #>  7:                 housing -8.016999e-04 #>  8:        installment_rate  3.599408e-03 #>  9:                     job -1.002799e-03 #> 10:          number_credits -2.402103e-03 #> 11:           other_debtors  5.898713e-03 #> 12: other_installment_plans -9.095922e-04 #> 13:           people_liable  5.994018e-07 #> 14:     personal_status_sex -1.807496e-03 #> 15:       present_residence  6.944070e-04 #> 16:                property  1.291111e-03 #> 17:                 purpose  2.486918e-03 #> 18:                 savings  1.819694e-02 #> 19:                  status  3.978829e-02 #> 20:               telephone  1.293209e-03 #>                     feature    importance pfi$scores #> Key: <feature, iter_rsmp, iter_perm> #>        feature iter_rsmp iter_perm classif.ce_orig classif.ce_perm   importance #>         <char>     <int>     <int>           <num>           <num>        <num> #>   1:       age         1         1       0.2095808       0.2305389  0.020958084 #>   2:       age         1         2       0.2095808       0.2335329  0.023952096 #>   3:       age         1         3       0.2095808       0.2275449  0.017964072 #>   4:       age         1         4       0.2095808       0.2215569  0.011976048 #>   5:       age         1         5       0.2095808       0.2155689  0.005988024 #>  ---                                                                            #> 596: telephone         6         1       0.2612613       0.2432432 -0.018018018 #> 597: telephone         6         2       0.2612613       0.2552553 -0.006006006 #> 598: telephone         6         3       0.2612613       0.2612613  0.000000000 #> 599: telephone         6         4       0.2612613       0.2522523 -0.009009009 #> 600: telephone         6         5       0.2612613       0.2402402 -0.021021021 pfi_single = PFI$new(   task = task,   learner = learner,   measure = measure )  pfi_single$compute() #> Key: <feature> #>                     feature   importance #>                      <char>        <num> #>  1:                     age  0.003003003 #>  2:                  amount  0.012012012 #>  3:          credit_history  0.024024024 #>  4:                duration  0.012012012 #>  5:     employment_duration  0.006006006 #>  6:          foreign_worker  0.000000000 #>  7:                 housing  0.006006006 #>  8:        installment_rate  0.024024024 #>  9:                     job -0.003003003 #> 10:          number_credits -0.003003003 #> 11:           other_debtors  0.012012012 #> 12: other_installment_plans  0.006006006 #> 13:           people_liable  0.009009009 #> 14:     personal_status_sex  0.003003003 #> 15:       present_residence  0.006006006 #> 16:                property  0.003003003 #> 17:                 purpose  0.015015015 #> 18:                 savings  0.003003003 #> 19:                  status  0.054054054 #> 20:               telephone -0.003003003 #>                     feature   importance pfi_single$scores #> Key: <feature, iter_rsmp, iter_perm> #>                     feature iter_rsmp iter_perm classif.ce_orig classif.ce_perm #>                      <char>     <int>     <int>           <num>           <num> #>  1:                     age         1         1       0.2732733       0.2762763 #>  2:                  amount         1         1       0.2732733       0.2852853 #>  3:          credit_history         1         1       0.2732733       0.2972973 #>  4:                duration         1         1       0.2732733       0.2852853 #>  5:     employment_duration         1         1       0.2732733       0.2792793 #>  6:          foreign_worker         1         1       0.2732733       0.2732733 #>  7:                 housing         1         1       0.2732733       0.2792793 #>  8:        installment_rate         1         1       0.2732733       0.2972973 #>  9:                     job         1         1       0.2732733       0.2702703 #> 10:          number_credits         1         1       0.2732733       0.2702703 #> 11:           other_debtors         1         1       0.2732733       0.2852853 #> 12: other_installment_plans         1         1       0.2732733       0.2792793 #> 13:           people_liable         1         1       0.2732733       0.2822823 #> 14:     personal_status_sex         1         1       0.2732733       0.2762763 #> 15:       present_residence         1         1       0.2732733       0.2792793 #>       importance #>            <num> #>  1:  0.003003003 #>  2:  0.012012012 #>  3:  0.024024024 #>  4:  0.012012012 #>  5:  0.006006006 #>  6:  0.000000000 #>  7:  0.006006006 #>  8:  0.024024024 #>  9: -0.003003003 #> 10: -0.003003003 #> 11:  0.012012012 #> 12:  0.006006006 #> 13:  0.009009009 #> 14:  0.003003003 #> 15:  0.006006006 #>  [ reached getOption(\"max.print\") -- omitted 6 rows ]"},{"path":"https://jemus42.github.io/xplainfi/reference/FeatureImportanceLearner.html","id":null,"dir":"Reference","previous_headings":"","what":"Feature Importance Learner Class — FeatureImportanceLearner","title":"Feature Importance Learner Class — FeatureImportanceLearner","text":"Feature Importance Learner Class Feature Importance Learner Class","code":""},{"path":"https://jemus42.github.io/xplainfi/reference/FeatureImportanceLearner.html","id":"public-fields","dir":"Reference","previous_headings":"","what":"Public fields","title":"Feature Importance Learner Class — FeatureImportanceLearner","text":"label (character(1)) Method label task (mlr3::Task) learner (mlr3::Learner) measure (mlr3::Measure) resampling (mlr3::Resampling) resample_result (mlr3::ResampleResult) features (list()) param_set (paradox::ps()) importance (data.table()) Aggregated importance scores scores (data.table()) Individual performance scores used compute $importance","code":""},{"path":[]},{"path":"https://jemus42.github.io/xplainfi/reference/FeatureImportanceLearner.html","id":"public-methods","dir":"Reference","previous_headings":"","what":"Public methods","title":"Feature Importance Learner Class — FeatureImportanceLearner","text":"FeatureImportanceLearner$new() FeatureImportanceLearner$combine() FeatureImportanceLearner$print() FeatureImportanceLearner$clone()","code":""},{"path":"https://jemus42.github.io/xplainfi/reference/FeatureImportanceLearner.html","id":"method-new-","dir":"Reference","previous_headings":"","what":"Method new()","title":"Feature Importance Learner Class — FeatureImportanceLearner","text":"Creates new instance R6 class. typically intended use derived classes.","code":""},{"path":"https://jemus42.github.io/xplainfi/reference/FeatureImportanceLearner.html","id":"usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Feature Importance Learner Class — FeatureImportanceLearner","text":"","code":"FeatureImportanceLearner$new(   task,   learner,   measure,   resampling = NULL,   features = NULL,   param_set = paradox::ps(),   label )"},{"path":"https://jemus42.github.io/xplainfi/reference/FeatureImportanceLearner.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Feature Importance Learner Class — FeatureImportanceLearner","text":"task, learner, measure, resampling, features, param_set, label Used set fields","code":""},{"path":"https://jemus42.github.io/xplainfi/reference/FeatureImportanceLearner.html","id":"method-combine-","dir":"Reference","previous_headings":"","what":"Method combine()","title":"Feature Importance Learner Class — FeatureImportanceLearner","text":"Combine two FeatureImportanceLearner objects computed scores.","code":""},{"path":"https://jemus42.github.io/xplainfi/reference/FeatureImportanceLearner.html","id":"usage-1","dir":"Reference","previous_headings":"","what":"Usage","title":"Feature Importance Learner Class — FeatureImportanceLearner","text":"","code":"FeatureImportanceLearner$combine(y, ...)"},{"path":"https://jemus42.github.io/xplainfi/reference/FeatureImportanceLearner.html","id":"arguments-1","dir":"Reference","previous_headings":"","what":"Arguments","title":"Feature Importance Learner Class — FeatureImportanceLearner","text":"y (FeatureImportanceLearner) Object combine. Must computed scores. ... () Unused.","code":""},{"path":"https://jemus42.github.io/xplainfi/reference/FeatureImportanceLearner.html","id":"returns","dir":"Reference","previous_headings":"","what":"Returns","title":"Feature Importance Learner Class — FeatureImportanceLearner","text":"new FeatureImportanceLearner subclass x y. Currently method merges following: $scores combined, iter_rsmp increased y. $importance re-computed combined $scores. $resample_result combined mlr3::BenchmarkResult $resampling combined mlr3::ResamplingCustom, continuing te iteration count x y.","code":""},{"path":"https://jemus42.github.io/xplainfi/reference/FeatureImportanceLearner.html","id":"method-print-","dir":"Reference","previous_headings":"","what":"Method print()","title":"Feature Importance Learner Class — FeatureImportanceLearner","text":"Print importance scores","code":""},{"path":"https://jemus42.github.io/xplainfi/reference/FeatureImportanceLearner.html","id":"usage-2","dir":"Reference","previous_headings":"","what":"Usage","title":"Feature Importance Learner Class — FeatureImportanceLearner","text":"","code":"FeatureImportanceLearner$print(...)"},{"path":"https://jemus42.github.io/xplainfi/reference/FeatureImportanceLearner.html","id":"arguments-2","dir":"Reference","previous_headings":"","what":"Arguments","title":"Feature Importance Learner Class — FeatureImportanceLearner","text":"... Passed print()","code":""},{"path":"https://jemus42.github.io/xplainfi/reference/FeatureImportanceLearner.html","id":"method-clone-","dir":"Reference","previous_headings":"","what":"Method clone()","title":"Feature Importance Learner Class — FeatureImportanceLearner","text":"objects class cloneable method.","code":""},{"path":"https://jemus42.github.io/xplainfi/reference/FeatureImportanceLearner.html","id":"usage-3","dir":"Reference","previous_headings":"","what":"Usage","title":"Feature Importance Learner Class — FeatureImportanceLearner","text":"","code":"FeatureImportanceLearner$clone(deep = FALSE)"},{"path":"https://jemus42.github.io/xplainfi/reference/FeatureImportanceLearner.html","id":"arguments-3","dir":"Reference","previous_headings":"","what":"Arguments","title":"Feature Importance Learner Class — FeatureImportanceLearner","text":"deep Whether make deep clone.","code":""},{"path":"https://jemus42.github.io/xplainfi/reference/LOCO.html","id":null,"dir":"Reference","previous_headings":"","what":"LOCO Class — LOCO","title":"LOCO Class — LOCO","text":"LOCO Class LOCO Class","code":""},{"path":"https://jemus42.github.io/xplainfi/reference/LOCO.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"LOCO Class — LOCO","text":"Calculates Leave-One-Covariate-(LOCO) scores.","code":""},{"path":"https://jemus42.github.io/xplainfi/reference/LOCO.html","id":"super-class","dir":"Reference","previous_headings":"","what":"Super class","title":"LOCO Class — LOCO","text":"xplainfi::FeatureImportanceLearner -> LOCO","code":""},{"path":"https://jemus42.github.io/xplainfi/reference/LOCO.html","id":"methods","dir":"Reference","previous_headings":"","what":"Methods","title":"LOCO Class — LOCO","text":"xplainfi::FeatureImportanceLearner$combine() xplainfi::FeatureImportanceLearner$print()","code":""},{"path":"https://jemus42.github.io/xplainfi/reference/LOCO.html","id":"public-methods","dir":"Reference","previous_headings":"","what":"Public methods","title":"LOCO Class — LOCO","text":"LOCO$new() LOCO$compute() LOCO$clone()","code":""},{"path":"https://jemus42.github.io/xplainfi/reference/LOCO.html","id":"method-new-","dir":"Reference","previous_headings":"","what":"Method new()","title":"LOCO Class — LOCO","text":"Creates new instance R6 class.","code":""},{"path":"https://jemus42.github.io/xplainfi/reference/LOCO.html","id":"usage","dir":"Reference","previous_headings":"","what":"Usage","title":"LOCO Class — LOCO","text":"","code":"LOCO$new(task, learner, measure, resampling = NULL, features = NULL)"},{"path":"https://jemus42.github.io/xplainfi/reference/LOCO.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"LOCO Class — LOCO","text":"task, learner, measure, resampling, features Passed FeatureImportanceLearner construction.","code":""},{"path":"https://jemus42.github.io/xplainfi/reference/LOCO.html","id":"method-compute-","dir":"Reference","previous_headings":"","what":"Method compute()","title":"LOCO Class — LOCO","text":"short description...","code":""},{"path":"https://jemus42.github.io/xplainfi/reference/LOCO.html","id":"usage-1","dir":"Reference","previous_headings":"","what":"Usage","title":"LOCO Class — LOCO","text":"","code":"LOCO$compute(relation = c(\"difference\", \"ratio\"))"},{"path":"https://jemus42.github.io/xplainfi/reference/LOCO.html","id":"arguments-1","dir":"Reference","previous_headings":"","what":"Arguments","title":"LOCO Class — LOCO","text":"relation (character(1)) Calculate \"difference\" (default) \"ratio\" original scores scores permutation","code":""},{"path":"https://jemus42.github.io/xplainfi/reference/LOCO.html","id":"method-clone-","dir":"Reference","previous_headings":"","what":"Method clone()","title":"LOCO Class — LOCO","text":"objects class cloneable method.","code":""},{"path":"https://jemus42.github.io/xplainfi/reference/LOCO.html","id":"usage-2","dir":"Reference","previous_headings":"","what":"Usage","title":"LOCO Class — LOCO","text":"","code":"LOCO$clone(deep = FALSE)"},{"path":"https://jemus42.github.io/xplainfi/reference/LOCO.html","id":"arguments-2","dir":"Reference","previous_headings":"","what":"Arguments","title":"LOCO Class — LOCO","text":"deep Whether make deep clone.","code":""},{"path":"https://jemus42.github.io/xplainfi/reference/LOCO.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"LOCO Class — LOCO","text":"","code":"library(mlr3)  loco = LOCO$new(   task = tsk(\"zoo\"),   learner = lrn(\"classif.rpart\"),   measure = msr(\"classif.ce\") )  loco$compute() #> Key: <feature> #>      feature importance #>       <char>      <num> #>  1: airborne          0 #>  2:  aquatic          0 #>  3: backbone          0 #>  4: breathes          0 #>  5:  catsize          0 #>  6: domestic          0 #>  7:     eggs          0 #>  8: feathers          0 #>  9:     fins          0 #> 10:     hair          0 #> 11:     legs          0 #> 12:     milk          0 #> 13: predator          0 #> 14:     tail          0 #> 15:  toothed          0 #> 16: venomous          0"},{"path":"https://jemus42.github.io/xplainfi/reference/PFI.html","id":null,"dir":"Reference","previous_headings":"","what":"PFI Class — PFI","title":"PFI Class — PFI","text":"PFI Class PFI Class","code":""},{"path":"https://jemus42.github.io/xplainfi/reference/PFI.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"PFI Class — PFI","text":"Calculates Permutation Feature Importance (PFI) scores.","code":""},{"path":"https://jemus42.github.io/xplainfi/reference/PFI.html","id":"super-class","dir":"Reference","previous_headings":"","what":"Super class","title":"PFI Class — PFI","text":"xplainfi::FeatureImportanceLearner -> PFI","code":""},{"path":"https://jemus42.github.io/xplainfi/reference/PFI.html","id":"methods","dir":"Reference","previous_headings":"","what":"Methods","title":"PFI Class — PFI","text":"xplainfi::FeatureImportanceLearner$combine() xplainfi::FeatureImportanceLearner$print()","code":""},{"path":"https://jemus42.github.io/xplainfi/reference/PFI.html","id":"public-methods","dir":"Reference","previous_headings":"","what":"Public methods","title":"PFI Class — PFI","text":"PFI$new() PFI$compute() PFI$clone()","code":""},{"path":"https://jemus42.github.io/xplainfi/reference/PFI.html","id":"method-new-","dir":"Reference","previous_headings":"","what":"Method new()","title":"PFI Class — PFI","text":"Creates new instance R6 class.","code":""},{"path":"https://jemus42.github.io/xplainfi/reference/PFI.html","id":"usage","dir":"Reference","previous_headings":"","what":"Usage","title":"PFI Class — PFI","text":"","code":"PFI$new(   task,   learner,   measure,   resampling = NULL,   features = NULL,   iters_perm = 1L )"},{"path":"https://jemus42.github.io/xplainfi/reference/PFI.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"PFI Class — PFI","text":"task, learner, measure, resampling, features Passed FeatureImportanceLearner construction. iters_perm (integer(1): 1L) Number permutations compute feature. Permutations repeated within resampling fold.","code":""},{"path":"https://jemus42.github.io/xplainfi/reference/PFI.html","id":"method-compute-","dir":"Reference","previous_headings":"","what":"Method compute()","title":"PFI Class — PFI","text":"short description...","code":""},{"path":"https://jemus42.github.io/xplainfi/reference/PFI.html","id":"usage-1","dir":"Reference","previous_headings":"","what":"Usage","title":"PFI Class — PFI","text":"","code":"PFI$compute(relation = c(\"difference\", \"ratio\"), store_backends = TRUE)"},{"path":"https://jemus42.github.io/xplainfi/reference/PFI.html","id":"arguments-1","dir":"Reference","previous_headings":"","what":"Arguments","title":"PFI Class — PFI","text":"relation (character(1)) Calculate \"difference\" (default) \"ratio\" original scores scores permutation store_backends (logical(1): TRUE) Passed resample() store backends resample result. Required measures, may increase memory footprint.","code":""},{"path":"https://jemus42.github.io/xplainfi/reference/PFI.html","id":"method-clone-","dir":"Reference","previous_headings":"","what":"Method clone()","title":"PFI Class — PFI","text":"objects class cloneable method.","code":""},{"path":"https://jemus42.github.io/xplainfi/reference/PFI.html","id":"usage-2","dir":"Reference","previous_headings":"","what":"Usage","title":"PFI Class — PFI","text":"","code":"PFI$clone(deep = FALSE)"},{"path":"https://jemus42.github.io/xplainfi/reference/PFI.html","id":"arguments-2","dir":"Reference","previous_headings":"","what":"Arguments","title":"PFI Class — PFI","text":"deep Whether make deep clone.","code":""},{"path":"https://jemus42.github.io/xplainfi/reference/PFI.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"PFI Class — PFI","text":"","code":"library(mlr3)  pfi = PFI$new(   task = tsk(\"zoo\"),   learner = lrn(\"classif.rpart\"),   measure = msr(\"classif.ce\") )  pfi$compute() #> Key: <feature> #>      feature importance #>       <char>      <num> #>  1: airborne 0.00000000 #>  2:  aquatic 0.00000000 #>  3: backbone 0.00000000 #>  4: breathes 0.00000000 #>  5:  catsize 0.00000000 #>  6: domestic 0.00000000 #>  7:     eggs 0.00000000 #>  8: feathers 0.14705882 #>  9:     fins 0.08823529 #> 10:     hair 0.00000000 #> 11:     legs 0.00000000 #> 12:     milk 0.47058824 #> 13: predator 0.00000000 #> 14:     tail 0.00000000 #> 15:  toothed 0.00000000 #> 16: venomous 0.00000000"},{"path":"https://jemus42.github.io/xplainfi/reference/c.FeatureImportanceLearner.html","id":null,"dir":"Reference","previous_headings":"","what":"Combine two FeatureImportanceLearner objects — c.FeatureImportanceLearner","title":"Combine two FeatureImportanceLearner objects — c.FeatureImportanceLearner","text":"Combine two FeatureImportanceLearner objects","code":""},{"path":"https://jemus42.github.io/xplainfi/reference/c.FeatureImportanceLearner.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Combine two FeatureImportanceLearner objects — c.FeatureImportanceLearner","text":"","code":"# S3 method for class 'FeatureImportanceLearner' c(x, y, ...)"},{"path":"https://jemus42.github.io/xplainfi/reference/c.FeatureImportanceLearner.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Combine two FeatureImportanceLearner objects — c.FeatureImportanceLearner","text":"x, y ([FeatureImportanceLearner]) Objects combine. Must computed scores. ... () Ignored.","code":""},{"path":"https://jemus42.github.io/xplainfi/reference/c.FeatureImportanceLearner.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Combine two FeatureImportanceLearner objects — c.FeatureImportanceLearner","text":"New object subclass x y.","code":""},{"path":"https://jemus42.github.io/xplainfi/reference/c.FeatureImportanceLearner.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Combine two FeatureImportanceLearner objects — c.FeatureImportanceLearner","text":"","code":"if (FALSE) {  }"},{"path":"https://jemus42.github.io/xplainfi/reference/compute_score.html","id":null,"dir":"Reference","previous_headings":"","what":"Scoring utility — compute_score","title":"Scoring utility — compute_score","text":"Computes relation score change (e.g. PFI, LOCO, ...) .","code":""},{"path":"https://jemus42.github.io/xplainfi/reference/compute_score.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Scoring utility — compute_score","text":"","code":"compute_score(   scores_pre,   scores_post,   relation = c(\"difference\", \"ratio\"),   minimize = TRUE )"},{"path":"https://jemus42.github.io/xplainfi/reference/compute_score.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Scoring utility — compute_score","text":"scores_pre (numeric()) Score change. scores_post (numeric()) Score change. relation (character(1), \"difference\") Either \"difference\" \"ratio\". \"difference\", scores_post - scores_pre computed, otherwise scores_post / scores_pre. minimize (logical(1), TRUE) Whether score needs minimized (e.g. RMSE) maximized (e.g. AUC).","code":""},{"path":"https://jemus42.github.io/xplainfi/reference/compute_score.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Scoring utility — compute_score","text":"numeric vector length scores_pre scores_post","code":""},{"path":"https://jemus42.github.io/xplainfi/reference/compute_score.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Scoring utility — compute_score","text":"minimize == TRUE, scores_post - scores_pre computed relation == \"difference\", otherwise scores_pre - scores_post given. minimize == FALSE, scores_pre - scores_post computed.","code":""},{"path":"https://jemus42.github.io/xplainfi/reference/compute_score.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Scoring utility — compute_score","text":"","code":"pre = rnorm(10) post = pre + runif(10)  compute_score(pre, post) #>  [1] 0.72830566 0.41247286 0.15922928 0.84570355 0.88436910 0.39599811 #>  [7] 0.03814079 0.95139597 0.78372752 0.21943974 compute_score(pre, post, \"ratio\") #>  [1] 2.13429016 0.01163002 0.86916936 1.39660369 0.18826730 4.39943753 #>  [7] 1.03024210 1.91425802 0.19157035 1.56162023 compute_score(pre, post, minimize = FALSE) #>  [1] -0.72830566 -0.41247286 -0.15922928 -0.84570355 -0.88436910 -0.39599811 #>  [7] -0.03814079 -0.95139597 -0.78372752 -0.21943974"},{"path":"https://jemus42.github.io/xplainfi/reference/op-null-default.html","id":null,"dir":"Reference","previous_headings":"","what":"Default value for NULL — op-null-default","title":"Default value for NULL — op-null-default","text":"backport %||% available R versions 4.4.0.","code":""},{"path":"https://jemus42.github.io/xplainfi/reference/op-null-default.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Default value for NULL — op-null-default","text":"","code":"x %||% y"},{"path":"https://jemus42.github.io/xplainfi/reference/op-null-default.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Default value for NULL — op-null-default","text":"x, y x NULL length 0, return y; otherwise returns x.","code":""},{"path":"https://jemus42.github.io/xplainfi/reference/op-null-default.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Default value for NULL — op-null-default","text":"","code":"1 %||% 2 #> [1] 1 NULL %||% 2 #> [1] 2"},{"path":"https://jemus42.github.io/xplainfi/reference/xplainfi-package.html","id":null,"dir":"Reference","previous_headings":"","what":"xplainfi: Feature Importance Methods for Model Interpretability — xplainfi-package","title":"xplainfi: Feature Importance Methods for Model Interpretability — xplainfi-package","text":"Provides consistent interface common feature importance methods, permutation feature importance, 'LOCO', 'SAGE'.","code":""},{"path":[]},{"path":"https://jemus42.github.io/xplainfi/reference/xplainfi-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"xplainfi: Feature Importance Methods for Model Interpretability — xplainfi-package","text":"Maintainer: Lukas Burk github@quantenbrot.de (ORCID)","code":""},{"path":"https://jemus42.github.io/xplainfi/news/index.html","id":"xplainfi-0009000-development-version","dir":"Changelog","previous_headings":"","what":"xplainfi 0.0.0.9000 (development version)","title":"xplainfi 0.0.0.9000 (development version)","text":"Initial design phase.","code":""}]
